@* Required *@
<MudThemeProvider />
<MudPopoverProvider />

@* Needed for dialogs *@
<MudDialogProvider />

@* Needed for snackbars *@
<MudSnackbarProvider />

@inherits LayoutComponentBase

<MudLayout>
    <!-- Top App Bar -->
    <MudAppBar Color="Color.Primary" Fixed="true">
        <!-- Hamburger Menu Button to Toggle Sidebar -->
        <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="ToggleSidebar" />
        <MudSpacer />
        <MudIconButton Icon="@Icons.Custom.Brands.GitHub" Color="Color.Inherit" />
    </MudAppBar>

    <!-- Sidebar (MudDrawer) -->
    <MudDrawer Open="@_isSidebarOpen" ClipMode="DrawerClipMode.Always" Variant="DrawerVariant.Temporary" Color="Color.Primary">
        <MudNavMenu>
            <MudNavLink Href="" Match="NavLinkMatch.All">
                <MudIcon Icon="@Icons.Material.Filled.Home" /> Home
            </MudNavLink>
            <MudNavLink Href="counter">
                <MudIcon Icon="@Icons.Material.Filled.AddCircleOutline" /> Counter
            </MudNavLink>
            <MudNavLink Href="products">
                <MudIcon Icon="@Icons.Material.Filled.List" /> Products
            </MudNavLink>
            <MudNavLink Href="AddProduct">
                <MudIcon Icon="@Icons.Material.Filled.Add" /> Add Product
            </MudNavLink>
        </MudNavMenu>
    </MudDrawer>

    <!-- Main Content -->
    <MudMainContent>
        <div class="top-row px-4">
            <a href="https://learn.microsoft.com/aspnet/core/" target="_blank">About</a>
        </div>
        <article class="content px-4">
            @Body
        </article>
    </MudMainContent>
</MudLayout>

<div id="blazor-error-ui">
    An unhandled error has occurred.
    <a href="" class="reload">Reload</a>
    <a class="dismiss">🗙</a>
</div>

@code {
    private bool _isSidebarOpen = true;

    private void ToggleSidebar()
    {
        _isSidebarOpen = !_isSidebarOpen;
    }
}
